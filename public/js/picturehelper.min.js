class PictureHelper{static constructPictureTag(t,e){const a=document.createElement("source");a.setAttribute("data-srcset",`img/${e.photograph}-400_1x.jpg 1x, img/${e.photograph}-800_2x.jpg 2x`),a.srcset=`img/${e.photograph}-low.jpg 1x, img/${e.photograph}-low.jpg 2x`,a.media="(max-width: 500px), (min-width:701px) and (max-width:900px)",t.appendChild(a);const r=document.createElement("source");r.setAttribute("data-srcset",`img/${e.photograph}-800_1x.jpg 1x, img/${e.photograph}-1600_2x.jpg 2x`),r.srcset=`img/${e.photograph}-low.jpg 1x, img/${e.photograph}-low.jpg 2x`,r.media="(min-width: 501px) and (max-width: 700px), (min-width:901px)",t.appendChild(r);const o=document.createElement("img");o.className="restaurant-img photo",o.setAttribute("data-src",DBHelper.imageUrlForRestaurant(e)),o.src=DBHelper.imageLQUrlForRestaurant(e),o.alt=e.photo_alt,o.title=e.name,o.onload=PictureHelper.lazyLoadImage,t.appendChild(o)}static lazyLoadImage(t){let e=t.srcElement;e.setAttribute("src",e.getAttribute("data-src")),e.onload=function(){e.removeAttribute("data-src")},[].forEach.call(e.parentElement.querySelectorAll("source[data-srcset]"),function(t){t.setAttribute("srcset",t.getAttribute("data-srcset")),t.onload=function(){t.removeAttribute("data-srcset")}})}static forwardCacheImages(t){let e=[];t.forEach(t=>{e.push(DBHelper.imageLQUrlForRestaurant(t)),e.push(`img/${t.photograph}-400_1x.jpg`),e.push(`img/${t.photograph}-800_1x.jpg`),e.push(`img/${t.photograph}-800_2x.jpg`),e.push(`img/${t.photograph}-1600_2x.jpg`)}),caches.open("rest1-content-imgs").then(t=>{e.forEach(e=>{const a=e.replace(/-\d*_\dx\.jpg$/,"");return t.match(a).then(function(r){return r||fetch(e).then(function(e){return t.put(a,e.clone()),e})})})},t=>{console.log(t)})}}